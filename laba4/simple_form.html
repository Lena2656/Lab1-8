<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Тестовая форма</title>
		<style>
			body {
				font-family: Arial;
				max-width: 400px;
				margin: 50px auto;
				padding: 20px;
			}
			.form-group {
				margin-bottom: 15px;
			}
			label {
				display: block;
				margin-bottom: 5px;
				font-weight: bold;
			}
			input,
			textarea {
				width: 100%;
				padding: 8px;
				border: 1px solid #ccc;
				border-radius: 4px;
			}
			button {
				background: #4caf50;
				color: white;
				padding: 10px 20px;
				border: none;
				border-radius: 4px;
				cursor: pointer;
			}
			button:hover {
				background: #45a049;
			}
			.error {
				color: red;
				font-size: 12px;
				margin-top: 5px;
			}
			.success {
				color: green;
				background: #e8f5e8;
				padding: 10px;
				border-radius: 4px;
				margin-top: 20px;
			}
		</style>
	</head>
	<body>
		<h2>Контактная форма</h2>

		<form id="contactForm">
			<div class="form-group">
				<label for="name">Имя *</label>
				<input type="text" id="name" name="name" required />
				<div id="nameError" class="error"></div>
			</div>

			<div class="form-group">
				<label for="email">Email *</label>
				<input type="email" id="email" name="email" required />
				<div id="emailError" class="error"></div>
			</div>

			<div class="form-group">
				<label for="phone">Телефон</label>
				<input
					type="tel"
					id="phone"
					name="phone"
					pattern="[0-9]{10,11}"
					title="10-11 цифр без пробелов"
				/>
				<div id="phoneError" class="error"></div>
			</div>

			<div class="form-group">
				<label for="message">Сообщение *</label>
				<textarea id="message" name="message" rows="4" required></textarea>
				<div id="messageError" class="error"></div>
			</div>

			<button type="submit">Отправить</button>
		</form>

		<div id="successMessage" class="success" style="display: none">
			Форма успешно отправлена!
		</div>

		<script>
			document
				.getElementById('contactForm')
				.addEventListener('submit', function (event) {
					event.preventDefault() // Останавливаем отправку

					// Очищаем ошибки
					clearErrors()

					let isValid = true

					// Проверка имени
					const name = document.getElementById('name').value.trim()
					if (!name) {
						showError('nameError', 'Пожалуйста, введите имя')
						isValid = false
					}

					// Проверка email
					const email = document.getElementById('email').value.trim()
					const emailPattern = /^[^@\s]+@[^@\s]+\.[^@\s]+$/
					if (!email) {
						showError('emailError', 'Пожалуйста, введите email')
						isValid = false
					} else if (!emailPattern.test(email)) {
						showError('emailError', 'Введите корректный email')
						isValid = false
					}

					// Проверка телефона (необязательное поле)
					const phone = document.getElementById('phone').value.trim()
					if (phone) {
						const phonePattern = /^[0-9]{10,11}$/
						if (!phonePattern.test(phone)) {
							showError('phoneError', 'Телефон должен содержать 10-11 цифр')
							isValid = false
						}
					}

					// Проверка сообщения
					const message = document.getElementById('message').value.trim()
					if (!message) {
						showError('messageError', 'Пожалуйста, введите сообщение')
						isValid = false
					}

					// Если все валидно, показываем сообщение об успехе
					if (isValid) {
						document.getElementById('successMessage').style.display = 'block'
						// Можно очистить форму
						// document.getElementById('contactForm').reset();
					}
				})

			function showError(elementId, message) {
				document.getElementById(elementId).textContent = message
			}

			function clearErrors() {
				document.getElementById('nameError').textContent = ''
				document.getElementById('emailError').textContent = ''
				document.getElementById('phoneError').textContent = ''
				document.getElementById('messageError').textContent = ''
				document.getElementById('successMessage').style.display = 'none'
			}
		</script>
	</body>
</html>
